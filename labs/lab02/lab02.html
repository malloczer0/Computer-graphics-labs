
<html>
<body>
	<canvas id='homework_02_1' height='600' width='600' style='border:1px solid'>
	</canvas>

	<canvas id='homework_02_2' height='600' width='600' style='border:1px solid'>
	</canvas>
	<a href='#' id='btn' class='button' style='font-size: 200%'>BUTTON</a>

	<script type="text/javascript">
		let canvas = document.getElementById('homework_02_1');
		let ctx = canvas.getContext('2d');
		let canvas2 = document.getElementById('homework_02_2');
		let ctx2 = canvas2.getContext('2d');
		let img = new Image();
		img.src = 'astolfo_plushie.jpg';
		img.onload = function() {
			ctx.drawImage(img, 0, 0);
		};
		let grayscale = function() {
			let imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
			for(let i = 0; i < imageData.data.length; i += 4){
	            let avg = (imageData.data[i] + imageData.data[i + 1] + imageData.data[i + 2]) / 3;  
	            imageData.data[i] = avg;   
	            imageData.data[i + 1] = avg;   
	            imageData.data[i + 2] = avg;  
			}
			ctx2.putImageData(imageData, 0, 0);
		};

		let grayscalebtn = document.getElementById('btn');
		grayscalebtn.addEventListener('click', grayscale);
	</script>
</body>
</html>